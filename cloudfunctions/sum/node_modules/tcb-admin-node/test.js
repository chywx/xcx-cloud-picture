// 初始化示例
const tcb = require('./');
const assert = require('assert')

// 初始化资源
// 云函数下不需要secretId和secretKey。
// env如果不指定将使用默认环境
tcb.init({
    secretId: 'AKIDmaXZoANOGFEAIaTU5127Id3WsN68p3WZ',
    secretKey: 'XAulILBGUl9cDtkdbcit7ZBsnxCTtRTZ',
    env: 'test-e48fe1'
});

const db = tcb.database();
(async () => {
    const _ = db.command
    const a = await db.collection('counters').where({
        _id: _.regex({
            regex: 'a'
        }) // 正则表达式为 /^\d/，转义后变成 '^\\d'
    }).get()
    console.log(a)

    const c = await db.collection('counters').where({
        _id: /.*/
    }).skip(0).limit(10).get()
    console.log(c)
})()